<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>阿莲读经典 - 智慧家长学堂</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css?v=2.2">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <button class="header-btn menu-btn with-label" id="menuBtn" aria-label="打开目录">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="3" y1="6" x2="21" y2="6"></line>
                <line x1="3" y1="12" x2="21" y2="12"></line>
                <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
            <span class="btn-label">目录</span>
        </button>
        <div class="header-title">
            <span class="logo-icon">莲</span>
            <span class="logo-text">阿莲读经典</span>
        </div>
        <button class="header-btn ai-btn with-label" id="aiBtn" aria-label="打开AI助手">
            <span class="btn-label">智慧家长助手</span>
        </button>
    </header>

    <!-- Main Content Area -->
    <main class="main-content">
        <!-- Chapter Navigation Sidebar -->
        <aside class="sidebar sidebar-left" id="sidebarLeft">
            <div class="sidebar-header">
                <h2>《大学》章句</h2>
                <button class="close-btn" id="closeMenuBtn" aria-label="关闭目录">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <nav class="chapter-list" id="chapterNav">
                <!-- Chapters populated by JS -->
            </nav>
        </aside>

        <!-- Center Content -->
        <section class="content-area">
            <!-- Book Introduction Page -->
            <div class="intro-page" id="introPage">
                <div class="intro-header">
                    <div class="book-icon">大学</div>
                    <h1 class="book-title">《大学章句》</h1>
                    <p class="book-meta">儒家经典 · 四书之首</p>
                </div>
                
                <article class="intro-content">
                    <section class="intro-section">
                        <h2 class="section-title">
                            <span class="title-icon">书</span>
                            关于《大学》
                        </h2>
                        <div class="section-body">
                            <p>《大学》原为《礼记》第四十二篇，相传为孔子弟子曾参所作。宋代朱熹将其从《礼记》中抽出，与《论语》《孟子》《中庸》并列，合称"四书"，成为儒学入门的必读经典。</p>
                            <p>全书以"修身"为核心，提出了"三纲领"与"八条目"的修养体系。三纲领为：明明德、亲民、止于至善；八条目为：格物、致知、诚意、正心、修身、齐家、治国、平天下。</p>
                            <p>《大学》开篇即言："大学之道，在明明德，在亲民，在止于至善。"这一宏大的理想，从个人修养出发，层层推进，最终达成天下太平的治世目标，体现了儒家"内圣外王"的核心思想。</p>
                        </div>
                    </section>
                    
                    <section class="intro-section">
                        <h2 class="section-title">
                            <span class="title-icon">曾</span>
                            关于曾子
                        </h2>
                        <div class="section-body">
                            <p>曾子（前505—前435），名参，字子舆，春秋末期鲁国南武城（今山东嘉祥县）人。孔子晚年弟子中最杰出的代表之一，被后世尊为"宗圣"，与孔子、颜子、子思、孟子并称"五圣"。</p>
                            <p>曾子以孝道著称，相传为《孝经》的作者。《大学》一书亦被认为出自曾子之手。他忠实地继承和传扬孔子的学说，并将儒家思想传给子思，子思又传孟子，形成了儒学正脉的传承谱系。后世称之为"思孟学派"的源头。</p>
                            <p>曾子为人敦厚谨慎，重视内省与修身。他的名言"吾日三省吾身——为人谋而不忠乎？与朋友交而不信乎？传不习乎？"深刻体现了儒家躬身自省的精神。《大学》所倡导的"修身为本"正与曾子一生践行的修养功夫相印证。</p>
                        </div>
                    </section>
                    
                    <section class="intro-section">
                        <h2 class="section-title">
                            <span class="title-icon">朱</span>
                            关于朱熹
                        </h2>
                        <div class="section-body">
                            <p>朱熹（1130—1200），字元晦，号晦庵，世称朱子，南宋著名理学家、思想家、哲学家、教育家、诗人。祖籍徽州婺源（今属江西），生于福建尤溪。</p>
                            <p>朱熹是宋代理学的集大成者，其学说被后世称为"朱子学"或"程朱理学"。他一生著述丰富，其中最具影响力的当属《四书章句集注》，将《大学》《中庸》《论语》《孟子》汇编为"四书"，并逐一注解。</p>
                            <p>《大学章句》是朱熹对《大学》的注释之作。朱熹认为原《大学》有"经"一章，系孔子之言，曾子述之；"传"十章，系曾子之意，门人记之。他还补写了"格物致知"一章，以完善全书体系。此书自元代起被列为科举考试的标准教材，影响中国思想文化数百年之久。</p>
                        </div>
                    </section>
                    
                    <section class="intro-section">
                        <h2 class="section-title">
                            <span class="title-icon">用</span>
                            学习价值
                        </h2>
                        <div class="section-body">
                            <p>《大学》虽然篇幅短小，却蕴含着深刻的人生智慧。它为我们指出了一条从自我修养到经世致用的完整路径，对于当代家庭教育同样具有重要的启示意义。</p>
                            <p>作为家长，我们可以从《大学》中汲取"正己化人"的教育智慧——先修正自身，方能感化子女。"其身正，不令而行"，身教重于言教，这正是《大学》"修身为本"思想在家庭教育中的生动体现。</p>
                        </div>
                    </section>
                </article>
                
                <div class="intro-footer">
                    <div class="footer-decoration"></div>
                    <p class="footer-text">点击左侧目录开始阅读经典</p>
                </div>
            </div>
            
            <!-- Chapter Content (hidden by default) -->
            <div class="chapter-content" id="chapterContent" style="display: none;">
                <div class="chapter-header" id="chapterHeader">
                    <h1 id="chapterTitle">经一章</h1>
                    <p class="chapter-subtitle" id="chapterSubtitle">释明明德·亲民·止于至善</p>
                </div>
                <article class="text-area" id="textContent">
                    <!-- Text paragraphs populated by JS -->
                </article>
                <div class="content-hint">
                    <span>点击段落获取智慧解读</span>
                </div>
            </div>
        </section>

        <!-- AI Assistant Sidebar -->
        <aside class="sidebar sidebar-right" id="sidebarRight">
            <div class="sidebar-header ai-header">
                <div class="ai-title">
                    <span class="ai-icon"></span>
                    <h2>智慧家长助手</h2>
                </div>
                <button class="close-btn" id="closeAiBtn" aria-label="关闭AI助手">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            
            <div class="ai-content" id="aiContent">
                <!-- Welcome State -->
                <div class="ai-welcome" id="aiWelcome">
                    <div class="welcome-icon"></div>
                    <h3>欢迎使用智慧家长助手</h3>
                    <p class="welcome-desc">点击左侧原文段落，我将帮您更好的理解经典，让经典融入亲子教育。</p>
                    
                    <div class="welcome-example">
                        <div class="example-header">
                            <span class="example-badge">使用指南</span>
                        </div>
                        
                        <!-- Step 1 -->
                        <div class="guide-step">
                            <div class="step-indicator">
                                <span class="step-number">1</span>
                                <span class="step-line"></span>
                            </div>
                            <div class="step-content">
                                <div class="step-title">点击左上角「目录」选择章节</div>
                                <div class="step-demo step-demo-menu">
                                    <span class="demo-icon">☰</span>
                                    <span class="demo-text">目录</span>
                                    <span class="demo-arrow">→</span>
                                    <span class="demo-chapter">经一章</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Step 2 -->
                        <div class="guide-step">
                            <div class="step-indicator">
                                <span class="step-number">2</span>
                                <span class="step-line"></span>
                            </div>
                            <div class="step-content">
                                <div class="step-title">点击正文中想要解读的句子</div>
                                <div class="step-demo step-demo-text">
                                    <p>"<span class="highlight-text">大学之道，在明明德，在亲民，在止于至善。</span>"</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Step 3 -->
                        <div class="guide-step">
                            <div class="step-indicator">
                                <span class="step-number">3</span>
                            </div>
                            <div class="step-content">
                                <div class="step-title">获得智慧解读</div>
                                <div class="step-result-preview">
                                    <div class="preview-card">
                                        <div class="preview-card-header">白话文解释</div>
                                        <div class="preview-card-body">大学的宗旨，在于弘扬光明正大的品德...</div>
                                    </div>
                                    <div class="preview-card">
                                        <div class="preview-card-header">家庭教育智慧</div>
                                        <div class="preview-card-body">家庭教育的逻辑起点在于父母的自我完善...</div>
                                    </div>
                                    <div class="preview-card preview-card-warning">
                                        <div class="preview-card-header">普通家长案例</div>
                                        <div class="preview-card-body">妈妈看到孩子成绩不理想，瞬间爆发责骂...</div>
                                    </div>
                                    <div class="preview-card preview-card-success">
                                        <div class="preview-card-header">智慧家长案例</div>
                                        <div class="preview-card-body">另一位妈妈先深呼吸平复情绪，温和地说...</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Loading State -->
                <div class="ai-loading" id="aiLoading" style="display: none;">
                    <div class="spinner"></div>
                    <p>智慧解读生成中...</p>
                </div>
                
                <!-- Response State -->
                <div class="ai-response" id="aiResponse" style="display: none;">
                    <div class="selected-text">
                        <span class="label">当前选中</span>
                        <p id="selectedText"></p>
                    </div>
                    
                    <div class="response-card">
                        <div class="card-header">
                            白话文解释
                        </div>
                        <div class="card-body" id="explanationContent"></div>
                    </div>
                    
                    <div class="response-card">
                        <div class="card-header">
                            家庭教育智慧
                        </div>
                        <div class="card-body" id="principleContent"></div>
                    </div>
                    
                    <div class="response-card negative">
                        <div class="card-header">
                            普通家长案例
                        </div>
                        <div class="card-body" id="negativeCaseContent"></div>
                    </div>
                    
                    <div class="response-card positive">
                        <div class="card-header">
                            智慧家长案例
                        </div>
                        <div class="card-body" id="positiveCaseContent"></div>
                    </div>
                </div>
                
                <!-- Error State -->
                <div class="ai-error" id="aiError" style="display: none;">
                    <div class="error-icon"></div>
                    <p id="errorMessage">请求失败，请稍后重试</p>
                    <button class="retry-btn" id="retryBtn">重新解读</button>
                </div>
            </div>
        </aside>
    </main>

    <!-- Overlay for mobile -->
    <div class="overlay" id="overlay"></div>

    <script src="app.js?v=2.2"></script>
</body>
</html>
